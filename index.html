<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voxel Art Converter - ÊàëÁöÑ‰∏ñÁïåÈ£éÊ†ºÂåñËΩ¨Êç¢Âô®</title>
    <meta name="description" content="Â∞Ü‰ªªÊÑèÁÖßÁâáËΩ¨Êç¢‰∏∫ 3D ‰πêÈ´ò/Minecraft ÊñπÂùóÈ£éÊ†ºÁöÑÊ∏≤ÊüìÂõæÔºåÊîØÊåÅÂØºÂá∫ .obj Âíå .schematic Ê†ºÂºè">
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/utils/BufferGeometryUtils.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/pako@2.1.0/dist/pako.min.js"></script>
</head>

<body>
    <div class="app-container">
        <!-- ËÉåÊôØÂä®Êïà -->
        <div class="bg-animation">
            <div class="cube cube-1"></div>
            <div class="cube cube-2"></div>
            <div class="cube cube-3"></div>
            <div class="cube cube-4"></div>
            <div class="cube cube-5"></div>
        </div>

        <!-- Ê†áÈ¢òÂå∫Âüü -->
        <header class="header">
            <div class="logo">
                <span class="logo-icon">üß±</span>
                <h1 data-i18n="title">Voxel Art Converter</h1>
            </div>
            <div class="header-right">
                <p class="tagline" data-i18n="tagline">Convert photos into Minecraft-style 3D voxel art</p>
                <div class="lang-switch">
                    <button id="langEn" class="lang-btn active">EN</button>
                    <button id="langZh" class="lang-btn">‰∏≠Êñá</button>
                </div>
            </div>
        </header>

        <!-- ‰∏ªÂÜÖÂÆπÂå∫ -->
        <main class="main-content">
            <!-- Â∑¶‰æßÈù¢Êùø - ‰∏ä‰º†ÂíåÊéßÂà∂ -->
            <aside class="control-panel">
                <!-- ‰∏ä‰º†Âå∫Âüü -->
                <section class="upload-section glass-panel">
                    <h2 data-i18n="upload_title">üì∑ Upload Image</h2>
                    <div class="upload-zone" id="uploadZone">
                        <input type="file" id="fileInput" accept="image/*" hidden>
                        <div class="upload-placeholder" id="uploadPlaceholder">
                            <span class="upload-icon">üìÅ</span>
                            <p data-i18n="drop_hint">Drag & Drop image here</p>
                            <p class="upload-hint" data-i18n="click_hint">or click to select file</p>
                        </div>
                        <img id="previewImage" class="preview-image" alt="È¢ÑËßà">
                    </div>
                </section>

                <!-- ÊéßÂà∂ÂèÇÊï∞ -->
                <section class="settings-section glass-panel">
                    <h2 data-i18n="settings_title">‚öôÔ∏è Settings</h2>

                    <div class="setting-group">
                        <label for="resolution" data-i18n="resolution">Resolution (Blocks)</label>
                        <div class="slider-container">
                            <input type="range" id="resolution" min="16" max="256" value="64" step="8">
                            <span class="slider-value" id="resolutionValue">48</span>
                        </div>
                    </div>

                    <div class="setting-group">
                        <label for="depthScale" data-i18n="depth_scale">Depth Scale</label>
                        <div class="slider-container">
                            <input type="range" id="depthScale" min="1" max="50" value="12" step="1">
                            <span class="slider-value" id="depthScaleValue">8</span>
                        </div>
                    </div>

                    <div class="setting-group">
                        <label for="palette" data-i18n="palette">Palette</label>
                        <select id="palette">
                            <option value="minecraft" data-i18n="palette_minecraft">Minecraft Default</option>
                            <option value="terracotta" data-i18n="palette_terracotta">Terracotta</option>
                            <option value="wool" data-i18n="palette_wool">Wool</option>
                            <option value="concrete" data-i18n="palette_concrete">Concrete</option>
                            <option value="full" data-i18n="palette_full">Full Palette</option>
                        </select>
                    </div>

                    <div class="setting-group">
                        <label for="fillMode" data-i18n="fill_mode">Fill Mode</label>
                        <select id="fillMode">
                            <option value="surface" data-i18n="fill_surface">Surface Only</option>
                            <option value="solid" data-i18n="fill_solid">Solid Fill</option>
                            <option value="hollow" data-i18n="fill_hollow">Hollow</option>
                        </select>
                    </div>

                    <button class="btn btn-primary" id="convertBtn" disabled>
                        <span class="btn-icon">‚ú®</span>
                        <span data-i18n="btn_convert">Convert</span>
                    </button>
                </section>

                <!-- ÂØºÂá∫ÈÄâÈ°π -->
                <section class="export-section glass-panel">
                    <h2 data-i18n="export_title">üíæ Export</h2>
                    <div class="export-buttons">
                        <button class="btn btn-export" id="exportObj" disabled>
                            <span class="btn-icon">üì¶</span>
                            <span data-i18n="btn_obj">Export .OBJ</span>
                        </button>
                        <button class="btn btn-export" id="exportSchematic" disabled>
                            <span class="btn-icon">üéÆ</span>
                            <span data-i18n="btn_schematic">Export .schematic</span>
                        </button>
                    </div>
                    <p class="export-hint" data-i18n="export_hint">Export available after conversion</p>
                </section>
            </aside>

            <!-- Âè≥‰æßÈù¢Êùø - 3D È¢ÑËßà -->
            <section class="preview-panel glass-panel">
                <div class="preview-header">
                    <h2 data-i18n="preview_title">üé® 3D Preview</h2>
                    <div class="preview-controls">
                        <button class="btn btn-icon-only" id="resetCamera" title="ÈáçÁΩÆËßÜËßí">
                            üîÑ
                        </button>
                        <button class="btn btn-icon-only" id="toggleWireframe" title="Á∫øÊ°ÜÊ®°Âºè">
                            üî≤
                        </button>
                        <button class="btn btn-icon-only" id="toggleLight" title="ÂàáÊç¢ÂÖâÁÖß">
                            üí°
                        </button>
                    </div>
                </div>
                <div class="canvas-container" id="canvasContainer">
                    <div class="loading-overlay" id="loadingOverlay">
                        <div class="loading-spinner"></div>
                        <p id="loadingText" data-i18n="ready">Ready</p>
                    </div>
                    <canvas id="renderCanvas"></canvas>
                </div>
                <div class="preview-stats">
                    <span id="statsBlocks" data-i18n="stats_blocks">Blocks: 0</span>
                    <span id="statsSize" data-i18n="stats_size">Size: 0√ó0√ó0</span>
                </div>
            </section>
        </main>

        <!-- Â∫ïÈÉ® -->
        <footer class="footer">
            <p data-i18n="footer">Voxel Art Converter ¬© 2026 | 3D Voxel Art Generator compatible with Minecraft</p>
        </footer>
    </div>

    <!-- JavaScript Ê®°Âùó -->
    <script src="js/minecraft/palette.js"></script>
    <script src="js/imageProcessor.js"></script>
    <script src="js/depthEstimator.js"></script>
    <script src="js/voxelizer.js"></script>
    <script src="js/voxelRenderer.js"></script>
    <script src="js/exporters/objExporter.js"></script>
    <script src="js/exporters/schematicExporter.js"></script>
    <script src="js/i18n.js"></script>
    <script src="js/app.js"></script>
</body>

</html>